# 版本歷史 (Version History)

## Version 1.5 (2025-12-06)

### ✨ 新功能 (Features)
- **升級資格原因細節**: 在評估與激勵區塊，當帳戶不符合升級資格時，系統現在會列出詳細的計算細節，例如「權益數未達標 (Capital not met): 1,000,000 / 200,000」，讓使用者能清楚了解未達標的具體項目。

## Version 1.4 (2025-12-06)

### 🐞 錯誤修正 (Bug Fixes)
- **修復後端序列化問題**: 解決了當 Pandas/Numpy 的數值型別 (如 `int64`) 無法被標準 `json` 函式庫序列化，導致後端在產生 `audit_report.json` 或 API 回應時崩潰的問題。已加入一個客製化的 JSON 編碼器來正確處理這些數值型別。

## Version 1.3 (2025-12-04)

### ✨ 新功能 (Features)
- **後端狀態顯示**: 前端介面新增後端伺服器狀態指示燈，即時顯示連線狀態。
- **互動式月報表**: 使用者現在可以點擊月統計報表中的任一月份，以彈出式視窗查看該月份的詳細交易明細。

---

## Version 1.2 (2025-12-04)

### ✨ 新功能 (Features)
- **新增 Log 紀錄功能**: 系統現在會將詳細的執行紀錄與錯誤資訊輸出至 `trade_audit.log` 檔案與主控台，方便追蹤與除錯。
- **前端日誌紀錄**: 前端應用程式現在會將關鍵操作事件與錯誤回傳至後端，並統一記錄在 `trade_audit.log` 中。

---

## Version 1.1 (2025-12-04)

### ✨ 新功能 (Features)
- **動態讀取交易資料**: 指令碼 (`trade_check.py`) 現在會自動從 `tradedata/` 資料夾中尋找並分析最新的交易紀錄檔案，無需手動修改程式碼。
- **支援新資料格式**:
    - 能夠自動對應中文欄位名稱 (`成交時間`, `買賣別`, `平倉損益淨額`)。
    - 支援處理帶有千分位逗號的損益金額。

### ♻️ 重構 (Refactoring)
- **移除範例資料**: 刪除了原有的 `dummy_trades.csv`，改為完全依賴 `tradedata/` 中的實際資料。
- **簡化資料處理**: 根據使用者確認，移除了原先用來過濾平倉交易的邏輯，現在所有讀入的資料都會被視為已完成的交易進行分析。

### 📚 文件 (Documentation)
- **更新 `README.md`**:
    - 更新了「指令碼模式」的使用說明，以反映新的檔案讀取機制。
    - 在「檔案結構」中新增了 `tradedata/` 資料夾的說明。
- **更新 `spec.md`**: 新增了「資料格式要求」章節，明確定義了交易紀錄檔案所需的欄位與格式。
- **新增 `Version.md`**: 加入此版本歷史檔案，以記錄未來的開發歷程。
